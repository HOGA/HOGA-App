<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>
        </title>
        <link rel="stylesheet" href="assets/css/jquery.mobile-1.1.0.min.css" />
        <link rel="stylesheet" href="my.css" />
        <style>
            /* App custom styles */
        </style>
        <script src="assets/js/jquery.min.js">
        </script>
        <script src="assets/js/jquery.mobile-1.1.0.min.js">
        </script>
		<script src="assets/js/jquery.colselect.js">
        </script>
		<script src="phonegap.js" type="text/javascript" charset="utf-8">
		</script>
        <script src="my.js">
        </script>
		<script type="text/javascript">
		window.addEventListener('load', function () {
			document.addEventListener('deviceready', function () {
				//Initialisierung
				$(document).delegate('.ui-page', 'pageshow', function () {
					//Was will ich bei jeder einzelnen Seite machen?
				});
			}, false);
		}, false);
		
		function removeCol(col){
			// Make sure col has value
			if(!col){ col = 1; }
			//$('tr > *:not(td)').remove();
			//$('center > table > tbody > tr > td:nth-col(101)').remove();

			 $('center > table > tbody > tr > td').nthCol(6*col+1).remove();
			 $('center > table > tbody > tr > td').nthCol(6*col).remove();
			 $('center > table > tbody > tr > td').nthCol(6*col-1).remove();
			 $('center > table > tbody > tr > td').nthCol(6*col-2).remove();
			 $('center > table > tbody > tr > td').nthCol(6*col-3).remove();
			 $('center > table > tbody > tr > td').nthCol(6*col-4).remove();

			//$('tr td:not(:nth-child('+col+'),:first-child)', this).remove();
			return this;
		};
		function leaveCol(col){
			for (i=5;i>0;i--)
			{
				if (i != col)
				{
					removeCol(i);
				}
			}
		};
		
		var stundenplanKlasse = "";
		
		var aktuellerTag = 1;
		
		function stundenplanLaden()
		{
			var ajax = new XMLHttpRequest();
			ajax.open("GET","http://www.hoga-schloss-albrechtsberg.de/fileadmin/stundenplan/mso/26/c/c00006.htm",true);
			ajax.send();

			ajax.onreadystatechange=function(){
			if(ajax.readyState==4 && (ajax.status==200)){
               document.getElementById('contentStundenplan').innerHTML = ajax.responseText;
			   //for( i=20; i>0; i--)
			   //{
				//	if( i != aktuellerTag)
				//	{
				//		//$('center > table').removeCol(i);
				//	}
			   //}
			   leaveCol(aktuellerTag);
			}
		}
 
			
		}
		
		function montagAnzeigen()
		{
			aktuellerTag = 1;
			stundenplanLaden();
			/*$('#contentStundenplan').html("Montag");*/
		}
		function dienstagAnzeigen()
		{
			aktuellerTag = 2;
			stundenplanLaden();
			/*$('#contentStundenplan').html("Dienstag");*/
		}
		function mittwochAnzeigen()
		{
			aktuellerTag = 3;
			stundenplanLaden();
			/*$('#contentStundenplan').html("Dienstag");*/
		}
		function donnerstagAnzeigen()
		{
			aktuellerTag = 4;
			stundenplanLaden();
			/*$('#contentStundenplan').html("Dienstag");*/
		}
		function freitagAnzeigen()
		{
			aktuellerTag = 5;
			stundenplanLaden();
			/*$('#contentStundenplan').html("Dienstag");*/
		}
		
		
		</script>
		
		<!-- Swipe beim Stundenplan -->
		<script>
$(document).ready(function() {

    $('.ui-slider-handle').live('touchstart', function(){
        // When user touches the slider handle, temporarily unbind the page turn handlers
        doUnbind();
    });

    $('.ui-slider-handle').live('mousedown', function(){
        // When user touches the slider handle, temporarily unbind the page turn handlers
        doUnbind();
    });

    $('.ui-slider-handle').live('touchend', function(){
        //When the user let's go of the handle, rebind the controls for page turn
        // Put in a slight delay so that the rebind does not happen until after the swipe has been triggered
        setTimeout( function() {doBind();}, 100 );
    });

    $('.ui-slider-handle').live('mouseup', function(){
        //When the user let's go of the handle, rebind the controls for page turn
        // Put in a slight delay so that the rebind does not happen until after the swipe has been triggered
        setTimeout( function() {doBind();}, 100 );
    });

    // Set the initial window (assuming it will always be #1
    window.now = 1;

    //get an Array of all of the pages and count
    windowMax = $('div[data-role="page"]').length; 

   doBind();
});
    // Functions for binding swipe events to named handlers
    function doBind() {
        $('div[data-role="page"]').live("swipeleft", turnPage); 
        $('div[data-role="page"]').live("swiperight", turnPageBack);
    }

    function doUnbind() {
        $('div[data-role="page"]').die("swipeleft", turnPage);
        $('div[data-role="page"]').die("swiperight", turnPageBack);
    }

    // Named handlers for binding page turn controls
    function turnPage(){
        // Check to see if we are already at the highest numbers page            
        if (window.now < windowMax) {
            window.now++
            $.mobile.changePage("#device"+window.now, "slide", false, true);
        }
    }

    function turnPageBack(){
        // Check to see if we are already at the lowest numbered page
        if (window.now != 1) {
            window.now--;
            $.mobile.changePage("#device"+window.now, "slide", true, true);
        }
    }
</script>
    </head>
    <body>
        <!-- Home -->
        <div data-role="page" id="page1">
			<div data-role="content" style="padding: 15px">
				<a data-role="button" data-transition="fade" href="#page2">
					Aktueller Stundenplan
				</a>
				<a data-role="button" data-transition="fade" href="#page3">
					Vertretungsplan
				</a>
				<a data-role="button" data-transition="fade" href="#page5">
					Einstellungen
				</a>
			</div>
		</div>
		<!-- Aktueller Stundenplan -->
		<div data-role="page" id="page2">
			<div data-theme="a" data-role="header">
				<h2>
					Stundenplan
				</h2>
				<a data-role="button" data-transition="fade" href="#page1" data-icon="arrow-l"
				data-iconpos="left">
					Zurück
				</a>
			</div>
			<div data-role="content" id="contentStundenplan" style="padding: 15px">
			</div>
			<div data-role="footer" data-id="footerStundenplan" data-position="fixed">
				<div data-role="navbar">
					<ul>
						<li><a href="#" id ="tabMo" onclick="montagAnzeigen();">Mo</a></li>
						<li><a href="#" id ="tabDi" onclick="dienstagAnzeigen();">Di</a></li>
						<li><a href="#" id ="tabMi" onclick="mittwochAnzeigen();">Mi</a></li>
						<li><a href="#" id ="tabDo" onclick="donnerstagAnzeigen();">Do</a></li>
						<li><a href="#" id ="tabFr" onclick="freitagAnzeigen();">Fr</a></li>
					</ul>
				</div><!-- /navbar -->
			</div><!-- /footer -->
		</div>
		<!-- Vertretungsplan -->
		<div data-role="page" id="page3">
			<div data-theme="a" data-role="header">
				<a data-role="button" data-rel="back" data-transition="fade" href="#page3"
				data-icon="arrow-l" data-iconpos="left">
					Zurück
				</a>
				<h3>
					Vertretungsplan
				</h3>
			</div>
			<div data-role="content" style="padding: 15px">
			</div>
		</div>
		<!-- Einstellungen -->
		<div data-role="page" id="page5">
			<div data-theme="a" data-role="header">
				<a data-role="button" data-rel="back" data-transition="fade" href="#page3"
				data-icon="arrow-l" data-iconpos="left">
					Zurück
				</a>
				<h3>
					Einstellungen
				</h3>
			</div>
			<div data-role="content" style="padding: 15px">
				<div data-role="fieldcontain">
					<label for="selectmenu2">
						Klasse:
					</label>
					<select name="selectmenu2" id="selectmenu2">
						<option value="5a MS">
							5a MS
						</option>
						<option value="5b MS">
							5b MS
						</option>
						<option value="5c MS">
							5c MS
						</option>
						<option value="6a MS">
							6a MS
						</option>
					</select>
				</div>
				<input value="Speichern" type="submit">
			</div>
		</div>
        <script>
            //App custom javascript
        </script>
    </body>
</html>